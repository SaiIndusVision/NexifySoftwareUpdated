{"version":3,"file":"SendEmailPage-D6WQeKec.js","sources":["../../../src/features/auth/hooks/useForgotPassword.ts","../../../src/features/auth/schemas/sendEmailLink.schema.ts","../../../src/features/auth/components/SendEmailForm.tsx","../../../src/features/auth/pages/send-email/SendEmailPage.tsx"],"sourcesContent":["import { useMutation } from '@tanstack/react-query';\nimport { authApi } from '../api/authApi';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from \"sonner\";\n\n\nexport const useForgotPassword = () => { \n  const navigate = useNavigate();\n \n  const { mutate, isPending, error } = useMutation({\n    mutationFn: authApi.forgotPassword,\n    onSuccess: () => {\n      // navigate('/reset-password')\n      toast.success('Password reset email sent successfully')\n    },\n    onError: (error: Error) => {\n      console.log(error)\n      if(error?.response?.data?.message == \"User not found\"){\n        toast.error(error?.response?.data?.message || \"User not found\");\n      } else{\n        toast.error(error.message || 'Sending email failed');\n      }\n    }\n  });\n  \n  return { mutate, isLoading: isPending, error };\n};","\nimport * as z from \"zod\"\n\nexport const emailLinkSchema = z.object({\n  // email: z.string().email(\"Please enter a valid email address\")\n  email: z\n  .string()\n  .min(1, \"Email is required\")\n  .email(\"Please enter a valid email\"),\n\n})\n\nexport type EmailLinkSchema = z.infer<typeof emailLinkSchema>","// import { useForm } from \"react-hook-form\";\r\n// import { zodResolver } from \"@hookform/resolvers/zod\";\r\n// import { Button } from \"@/components/ui/button\";\r\n// import {\r\n//   Form,\r\n//   FormControl,\r\n//   FormField,\r\n//   FormItem,\r\n//   FormLabel,\r\n//   FormMessage,\r\n// } from \"@/components/ui/form\";\r\n// import { Input } from \"@/components/ui/input\";\r\n// import { Link } from \"react-router\";\r\n// import { Loader2 } from \"lucide-react\";\r\n// import { useForgotPassword } from \"../hooks/useForgotPassword\";\r\n// import { emailLinkSchema, EmailLinkSchema } from \"../schemas/sendEmailLink.schema\";\r\n\r\n// const SendEmailForm = () => {\r\n//   const { mutate, isLoading } = useForgotPassword();\r\n//   const form = useForm<EmailLinkSchema>({\r\n//     resolver: zodResolver(emailLinkSchema),\r\n//     defaultValues: {\r\n//       email: \"\",\r\n//     },\r\n//   });\r\n\r\n//   const handleLogin = (values: EmailLinkSchema) => {\r\n//     mutate(values.email);\r\n//   };\r\n\r\n//   return (\r\n//     <Form {...form}>\r\n//       <form onSubmit={form.handleSubmit(handleLogin)} className=\"space-y-6\">\r\n//         <FormField\r\n//           control={form.control}\r\n//           name=\"email\"\r\n//           render={({ field }) => (\r\n//             <FormItem>\r\n//               <FormLabel>Email</FormLabel>\r\n//               <FormControl>\r\n//                 <Input\r\n//                   {...field}\r\n//                   type=\"email\"\r\n//                   placeholder=\"Enter your email\"\r\n//                   autoComplete=\"off\"\r\n//                 />\r\n//               </FormControl>\r\n//               <FormMessage />\r\n//             </FormItem>\r\n//           )}\r\n//         />\r\n//      <Button type=\"submit\" disabled={isLoading} className=\"w-full\" >\r\n//           {isLoading ? (\r\n//             <>\r\n//               <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n//               Please wait\r\n//             </>\r\n//           ) : (\r\n//             \"Send Reset Link\"\r\n//           )}\r\n//         </Button>\r\n//         <div className=\"text-center\">\r\n//           <div className=\"text-sm text-muted-foreground\">\r\n//             <Link to=\"/login\" className=\"text-primary\">\r\n//              Back to Login\r\n//             </Link>\r\n//           </div>\r\n//         </div>\r\n\r\n   \r\n//       </form>\r\n//     </Form>\r\n//   );\r\n// };\r\n\r\n// export default SendEmailForm;\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"@/components/ui/form\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Link } from \"react-router\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport { useForgotPassword } from \"../hooks/useForgotPassword\";\r\nimport { emailLinkSchema, EmailLinkSchema } from \"../schemas/sendEmailLink.schema\";\r\n\r\nconst SendEmailForm = () => {\r\n  const { mutate, isLoading } = useForgotPassword();\r\n  const form = useForm<EmailLinkSchema>({\r\n    resolver: zodResolver(emailLinkSchema),\r\n    defaultValues: {\r\n      email: \"\",\r\n    },\r\n  });\r\n\r\n  const handleLogin = (values: EmailLinkSchema) => {\r\n    mutate(values.email);\r\n  };\r\n\r\n  return (\r\n    <Form {...form}>\r\n       <div className=\"mb-8\">\r\n        <div className=\"text-2xl font-secondary font-bold text-[#062393]\">Forgot Password!</div>\r\n        <div className=\"text-sm font-secondary  font-normal \">Reset password through email</div>\r\n\r\n      </div>\r\n      <form onSubmit={form.handleSubmit(handleLogin)} className=\"space-y-6\">\r\n        \r\n        <FormField\r\n          control={form.control}\r\n          name=\"email\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              {/* <FormLabel>Email </FormLabel> */}\r\n              <FormControl>\r\n                <Input\r\n                                  {...field}\r\n                                  type=\"email\"\r\n                                  placeholder=\"Email Address*\"\r\n                                  autoComplete=\"off\"\r\n                                  hasError={!!form.formState.errors.email}\r\n                                  className=\"rounded-full\"\r\n                                />\r\n                {/* <Input\r\n                  {...field}\r\n                  type=\"email\"\r\n                  placeholder=\"Enter your email\"\r\n                  autoComplete=\"off\"\r\n                  \r\n                    className=\"rounded-full\"\r\n                /> */}\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        <Button type=\"submit\" disabled={isLoading} className=\"w-full  rounded-full bg-[#43996A]\" >\r\n          {isLoading ? (\r\n            <>\r\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n              Please wait\r\n            </>\r\n          ) : (\r\n            \"Send Reset Link\"\r\n          )}\r\n        </Button>\r\n\r\n        \r\n        <div className=\"text-center\">\r\n          <div className=\"text-sm text-muted-foreground\">\r\n            <Link to=\"/login\" \r\n              className=\"text-sm font-normal font-secondary text-[#062393] hover:text-primary transition-colors\"\r\n       >\r\n             Clicked by mistake ? Login here\r\n            </Link>\r\n          </div>\r\n\r\n          {/* <div className=\"text-sm text-muted-foreground\">\r\n            <Link to=\"/sign-up\" \r\n              className=\"text-sm font-normal font-secondary text-[#062393] hover:text-primary transition-colors\"\r\n       >\r\n             Don't have an account? Register here\r\n            </Link>\r\n          </div> */}\r\n        </div>\r\n\r\n      </form>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default SendEmailForm;\r\n\r\n","import AuthLayout from \"../../components/AuthLayout\";\nimport SendEmailForm from \"../../components/SendEmailForm\";\n\nconst SendEmailPage = () => {\n  return (\n    <AuthLayout title=\"Send Reset Email\">\n      <SendEmailForm />\n    </AuthLayout>\n  );\n};\n\nexport default SendEmailPage;\n"],"names":["useForgotPassword","useNavigate","mutate","isPending","error","useMutation","authApi","toast","emailLinkSchema","z.object","z.string","SendEmailForm","isLoading","form","useForm","zodResolver","handleLogin","values","jsxs","Form","jsx","FormField","field","FormItem","FormControl","Input","FormMessage","Button","Fragment","Loader2","Link","SendEmailPage","AuthLayout"],"mappings":"0bAMO,MAAMA,EAAoB,IAAM,CACpBC,EAAY,EAE7B,KAAM,CAAE,OAAAC,EAAQ,UAAAC,EAAW,MAAAC,CAAA,EAAUC,EAAY,CAC/C,WAAYC,EAAQ,eACpB,UAAW,IAAM,CAEfC,EAAM,QAAQ,wCAAwC,CACxD,EACA,QAAUH,GAAiB,aACzB,QAAQ,IAAIA,CAAK,IACdA,GAAAA,EAAAA,GAAAA,YAAAA,EAAO,WAAPA,YAAAA,EAAiB,OAAjBA,YAAAA,EAAuB,UAAW,iBACnCG,EAAM,QAAMH,GAAAA,EAAAA,GAAAA,YAAAA,EAAO,WAAPA,YAAAA,EAAiB,OAAjBA,YAAAA,EAAuB,UAAW,gBAAgB,EAExDG,EAAA,MAAMH,EAAM,SAAW,sBAAsB,CACrD,CACF,CACD,EAED,MAAO,CAAE,OAAAF,EAAQ,UAAWC,EAAW,MAAAC,CAAM,CAC/C,ECvBaI,EAAkBC,EAAS,CAEtC,MAAOC,EACC,EACP,IAAI,EAAG,mBAAmB,EAC1B,MAAM,4BAA4B,CAErC,CAAC,ECmFKC,EAAgB,IAAM,CAC1B,KAAM,CAAE,OAAAT,EAAQ,UAAAU,CAAU,EAAIZ,EAAkB,EAC1Ca,EAAOC,EAAyB,CACpC,SAAUC,EAAYP,CAAe,EACrC,cAAe,CACb,MAAO,EAAA,CACT,CACD,EAEKQ,EAAeC,GAA4B,CAC/Cf,EAAOe,EAAO,KAAK,CACrB,EAGE,OAAAC,EAAA,KAACC,EAAM,CAAA,GAAGN,EACP,SAAA,CAACK,EAAAA,KAAA,MAAA,CAAI,UAAU,OACd,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,mDAAmD,SAAgB,mBAAA,EACjFA,EAAA,IAAA,MAAA,CAAI,UAAU,uCAAuC,SAA4B,8BAAA,CAAA,CAAA,EAEpF,EACAF,OAAC,QAAK,SAAUL,EAAK,aAAaG,CAAW,EAAG,UAAU,YAExD,SAAA,CAAAI,EAAA,IAACC,EAAA,CACC,QAASR,EAAK,QACd,KAAK,QACL,OAAQ,CAAC,CAAE,MAAAS,CAAM,WACdC,EAEC,CAAA,SAAA,CAAAH,MAACI,EACC,CAAA,SAAAJ,EAAA,IAACK,EAAA,CACkB,GAAGH,EACJ,KAAK,QACL,YAAY,iBACZ,aAAa,MACb,SAAU,CAAC,CAACT,EAAK,UAAU,OAAO,MAClC,UAAU,cAAA,CAAA,EAU9B,QACCa,EAAY,CAAA,CAAA,CAAA,CACf,CAAA,CAAA,CAEJ,EAEAN,EAAAA,IAACO,GAAO,KAAK,SAAS,SAAUf,EAAW,UAAU,oCAClD,SAAAA,EAEGM,EAAA,KAAAU,EAAA,SAAA,CAAA,SAAA,CAACR,EAAAA,IAAAS,EAAA,CAAQ,UAAU,2BAA4B,CAAA,EAAE,aAAA,CAEnD,CAAA,EAEA,kBAEJ,QAGC,MAAI,CAAA,UAAU,cACb,SAACT,MAAA,MAAA,CAAI,UAAU,gCACb,SAAAA,EAAA,IAACU,EAAA,CAAK,GAAG,SACP,UAAU,yFAChB,SAAA,iCAAA,GAGE,CASF,CAAA,CAAA,CAEF,CAAA,CAAA,EACF,CAEJ,EC9KMC,EAAgB,UAEjBC,EAAW,CAAA,MAAM,mBAChB,SAAAZ,MAACT,GAAc,CAAA,EACjB"}