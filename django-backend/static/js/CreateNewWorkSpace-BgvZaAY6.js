import{j as e}from"./mui-BFA6lQrI.js";import{r as l,f as N}from"./react-core-CQlor4TK.js";import{h as S,j as C,t as E,l as F,F as T,b as W,c as A,d as L,I as R,e as B,u as d}from"./index-uJeo5NJI.js";import{d as I}from"./form-tools-DBwiXJwN.js";import{u as _}from"./state-management-hQ1z8sur.js";import"./ui-utils-DmSiVVjI.js";import"./radix-BHg8RD76.js";import"./data-utils-7BzZlo9U.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],P=S("ArrowLeft",z),O="/assets/png/rafiki-Cqm-Y6hK.png",U=({handleNavigate:i})=>e.jsx("span",{onClick:i,className:"bg-white  w-10 h-10 rounded-full flex justify-center items-center cursor-pointer my-2 ",children:e.jsx(P,{color:"#1e3b8a",strokeWidth:2.4})}),X=()=>{const{setTitle:i}=C();l.useEffect(()=>{},[i]);const x=N(),[m,p]=l.useState(!1),[h,u]=l.useState(null),[g,j]=l.useState("Workspace name"),y=l.useMemo(()=>s=>s.auth,[]),n=_(y),o=I({resolver:E(F),mode:"onSubmit",defaultValues:{name:"",created_by:(n==null?void 0:n.user_id)??void 0}}),b=async s=>{p(!0),u(null);const a="http://localhost:8001/api/workspace/",t="http://localhost:8000/api/workspace/";try{const[r,f]=await Promise.all([fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}),fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)})]);if(!r.ok||!f.ok){const v=await r.json().catch(()=>({})),k=await f.json().catch(()=>({}));throw new Error(v.message||k.message||"Failed to create workspace")}const c=await r.json();d.success((c==null?void 0:c.message)||"Workspace created successfully!"),x("/client/workspaces")}catch(r){u(r instanceof Error?r.message:"Unexpected error"),h=="Workspace name must be unique"?d.error("A workspace with this name already exists. Please choose a different name."):d.error(h||"Error creating workspace")}finally{p(!1)}},w=({mainText:s})=>e.jsxs("div",{style:{display:"flex",width:"100%"},children:[e.jsxs("div",{style:{background:"linear-gradient(219.95deg, #435FCD -2.18%, #062393 61.84%, #020B2D 132.87%)",padding:"20px",color:"white",height:"100%",width:"400px",borderTopLeftRadius:"10px"},children:[e.jsxs("h1",{style:{fontSize:"24px"},children:[e.jsx("span",{style:{color:"white"},children:"NEX"}),e.jsx("span",{style:{color:"#22C55E"},children:"IFY"})]}),e.jsx("h2",{style:{fontSize:"18px"},children:s}),e.jsx("div",{style:{marginTop:"20px"},children:[...Array(3)].map((a,t)=>e.jsx("div",{style:{backgroundColor:"#3B82F6",margin:"10px 0",padding:"10px",borderRadius:"5px"}},t))})]}),e.jsx("div",{style:{backgroundColor:"#F3F4F6",width:"100%"},children:e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("div",{style:{backgroundColor:"#E5E7EB",height:"40px",width:"60%",margin:"0 20px auto",borderRadius:"5px"}}),[...Array(3)].map((a,t)=>e.jsx("div",{style:{backgroundColor:"#E5E7EB",height:"60px",width:"90%",margin:"10px auto",borderRadius:"5px"}},t))]})})]});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col py-4",children:[e.jsx("div",{className:" mx-auto mb-8",children:e.jsx("div",{className:" bg-opacity-25 flex justify-center items-center relative z-10",children:e.jsx("div",{className:"p-8 w-full min-w-[calc(90vw)] rounded-2xl border-2 border-gray-200 flex justify-between items-center",children:e.jsxs("div",{className:"flex  gap-2",children:[e.jsx(U,{handleNavigate:()=>x("/client/workspaces")}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-2xl font-bold text-blue-900 flex items-center",children:"  Welcome! Lets get started"}),e.jsxs("p",{className:"text-gray-400",children:["Create your  ",e.jsx("span",{className:"text-gray-500 font-semibold",children:"workspace"})]})]})]})})})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"basis-full lg:basis-1/2 flex flex-col gap-8",children:[e.jsx("div",{className:"flex flex-col  gap-8",children:e.jsx("div",{className:"bg-opacity-25 relative z-10",children:e.jsx("div",{className:"p-8 w-full rounded-2xl border-2 border-gray-200 flex justify-between items-center",children:e.jsx(T,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(b),className:"space-y-2 w-full",children:[e.jsx(W,{control:o.control,name:"name",render:({field:s})=>e.jsxs(A,{children:[e.jsx(L,{children:e.jsx(R,{...s,onChange:a=>{s.onChange(a),j(a.target.value||"Workspace name")},hasError:!!o.formState.errors.name,placeholder:"Workspace Name*",className:"rounded-full"})}),e.jsx(B,{})]})}),e.jsx("button",{type:"submit",disabled:m,className:"bg-primary hover:bg-green-600 text-white py-2 px-4 rounded-full flex items-center gap-2",children:m?"Creating...":"Create Workspace"})]})})})})}),e.jsx("div",{className:"flex items-start justify-center rounded-lg",children:e.jsx("div",{className:"text-center",children:e.jsx("img",{src:O,alt:"Workspace illustration",className:"max-w-full h-auto mx-auto"})})})]}),e.jsx("div",{className:"basis-full lg:basis-1/2 flex w-full rounded-lg",children:e.jsx(w,{mainText:g})})]})]})})};export{X as default};
