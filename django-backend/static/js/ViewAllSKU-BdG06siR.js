import{j as e}from"./mui-BFA6lQrI.js";import{r as l,h as p,f}from"./react-core-CQlor4TK.js";import{m as j,n as N,u as i}from"./index-uJeo5NJI.js";import{a as y}from"./data-utils-7BzZlo9U.js";import{p as v}from"./nexify-placeholder-img-DvrgdLBk.js";import"./state-management-hQ1z8sur.js";import"./ui-utils-DmSiVVjI.js";import"./radix-BHg8RD76.js";import"./form-tools-DBwiXJwN.js";const B=()=>{const d="http://localhost:8000/api",[c,m]=l.useState(null),{workspaceId:a}=p(),x=f(),[t,g]=l.useState([]),n=async()=>{try{const s=await y.get(`${d}/sku/?workspace_id=${a}`);g(s.data.results)}catch(s){console.error("Error fetching SKUs:",s)}};l.useEffect(()=>{n()},[a]);const h=s=>{m(c===s?null:s)},u=l.memo(()=>{const[s,r]=l.useState(!1),o=async()=>{r(!0);try{i.success("SKU created successfully"),n()}catch{i.error("Failed to create SKU")}finally{r(!1)}};return e.jsx(j,{title:"",description:e.jsx(N,{}),onConfirm:o,isLoading:s,children:e.jsxs("p",{className:`text-md text-center ${t.length<5?"text-green-600":"text-gray-500"}`,children:[t.length<5?"Click to add more SKUs":"Contact Indus Vision to add more SKUs",e.jsx("br",{}),t.length,"/5 left to create"]})})});return e.jsx("div",{className:"px-4",children:t.length==0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-3 text-2xl font-semibold text-[#BEBEBE] items-center justify-center min-h-[560px]",children:[e.jsx("div",{className:"flex",children:"No SKUs to show"}),e.jsx("div",{className:"flex",children:"Click on Create SKUs button to create one"}),e.jsxs("div",{className:"flex",children:[t.length,"/5 left to create "]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:[t.map((s,r)=>e.jsx("div",{className:"w-full",children:e.jsxs("div",{onClick:()=>x(`/client/workspaces/${a}/sku/${s.id}?tab=Versions`),className:"relative bg-gray-200 p-4 rounded-lg shadow-sm flex h-38 gap-4 cursor-pointer mb-2",children:[e.jsx("div",{className:"w-48 h-full rounded-2xl",children:e.jsx("img",{src:v,alt:"SKU Image",className:"w-full h-full rounded-2xl"})}),e.jsxs("div",{className:"w-[90%]",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.tag_name})]}),e.jsxs("div",{className:"absolute top-2 right-2",children:[e.jsx("button",{onClick:o=>{o.stopPropagation(),h(r)},className:"text-gray-500",children:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"5",r:"1.5",fill:"currentColor"}),e.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:"currentColor"}),e.jsx("circle",{cx:"12",cy:"19",r:"1.5",fill:"currentColor"})]})}),c===r&&e.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-lg shadow-sm z-10",children:e.jsxs("ul",{className:"py-1",children:[e.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:"Rename"}),e.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:"Merge"}),e.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:"Delete"})]})})]})]})},s.id)),e.jsx("div",{className:`p-4 rounded-lg flex flex-col items-center justify-center border-dotted border-2 ${t.length<5?"border-green-500 cursor-pointer":"border-gray-300"}`,children:t.length<5?e.jsx(u,{}):e.jsx("p",{className:`text-md text-center ${t.length<5?"text-green-600":"text-gray-500"}`,children:t.length<5?"Click to add more SKUs":"Contact Indus Vision to add more SKUs"})})]})})})};export{B as default};
