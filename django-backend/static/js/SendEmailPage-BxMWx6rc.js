import{j as s}from"./mui-BFA6lQrI.js";import{A as d}from"./AuthLayout-itFYPbID.js";import{b as c,s as u,d as x}from"./form-tools-D5DSvKKH.js";import{a as f,u as i,F as h,b as p,c as g,d as j,I as F,e as y,B as b,L,t as N}from"./index-Dekx5HmU.js";import{f as S,L as v}from"./react-core-CQlor4TK.js";import{u as w}from"./data-utils-7BzZlo9U.js";import"./state-management-hQ1z8sur.js";import"./ui-utils-DmSiVVjI.js";import"./radix-BHg8RD76.js";const E=()=>{S();const{mutate:n,isPending:o,error:a}=w({mutationFn:f.forgotPassword,onSuccess:()=>{i.success("Password reset email sent successfully")},onError:e=>{var t,m,l,r;console.log(e),((m=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:m.message)=="User not found"?i.error(((r=(l=e==null?void 0:e.response)==null?void 0:l.data)==null?void 0:r.message)||"User not found"):i.error(e.message||"Sending email failed")}});return{mutate:n,isLoading:o,error:a}},P=c({email:u().min(1,"Email is required").email("Please enter a valid email")}),k=()=>{const{mutate:n,isLoading:o}=E(),a=x({resolver:N(P),defaultValues:{email:""}}),e=t=>{n(t.email)};return s.jsxs(h,{...a,children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"text-2xl font-secondary font-bold text-[#062393]",children:"Forgot Password!"}),s.jsx("div",{className:"text-sm font-secondary  font-normal ",children:"Reset password through email"})]}),s.jsxs("form",{onSubmit:a.handleSubmit(e),className:"space-y-6",children:[s.jsx(p,{control:a.control,name:"email",render:({field:t})=>s.jsxs(g,{children:[s.jsx(j,{children:s.jsx(F,{...t,type:"email",placeholder:"Email Address*",autoComplete:"off",hasError:!!a.formState.errors.email,className:"rounded-full"})}),s.jsx(y,{})]})}),s.jsx(b,{type:"submit",disabled:o,className:"w-full  rounded-full bg-[#43996A]",children:o?s.jsxs(s.Fragment,{children:[s.jsx(L,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):"Send Reset Link"}),s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsx(v,{to:"/login",className:"text-sm font-normal font-secondary text-[#062393] hover:text-primary transition-colors",children:"Clicked by mistake ? Login here"})})})]})]})},V=()=>s.jsx(d,{title:"Send Reset Email",children:s.jsx(k,{})});export{V as default};
