{"version":3,"file":"ViewSkuDetails-DRWblH-E.js","sources":["../../../src/assets/images/Security camera.png","../../../src/assets/images/Group.png","../../../src/assets/images/Delete.png","../../../src/assets/images/white-delete.png","../../../src/features/client/pages/workspace/ViewSkuDetails.tsx"],"sourcesContent":["export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIcSURBVHgB7VfbUQIxFD0RR/1cKxA7sAT9xXGQCoQK0AqECqQDoAJGGdA/sALoADqAXx0FzyVZiWEXAssMfnBmstnc7Obc195kgR1C+TzUAIIjIP0JjHPAUGSvHE+BKm8v2SoZ4AFrYiW5IenwNm1eKLGrW7IxW8Bx7RooYA0cwJNYFmc/ZF9i6xlZ+QM4Z9+nUvmWViw5uUNcFqu+55YFRlaScKi5V/pICiFuAwO2aWhNlIz9BccjI8tjG+BitaTEMv8GFDnfkWfYntxnVAy5uPtS4nnCG8f9JVlYaZm4v3Ct8wFNvsM43nLuTubcdTMOX1zMn+VyTAJf4heSpijnXBFa4ZrM04BTDrtRJIdRQmpYaelEChdaSixIGUvDZ/HXk/AmN5mejSMOLbFjrXSxEZzZcn4hY64RRMVXxRDHuhoJ4MZ8wfIJtVbxxGLFJmX0EaYWLCVXulwKsszerpqVdk0szY6zL9o6+9OufCHbJdnY1Ul6kbKSC3OlZhCPNKwwyNieb85zIBaRn1pGJ0xd7t2sDhemcj2W1nt73Dbj8LNbVfVia7soIN/oOm6eGk+kPBNz6a6Wc1y9bRxgh9iT78n35P+X/EufUocsqQOzyNgeT/SPhciSn2YF5gA5wgYID5GufB3L39mCcPPwhdndpHXdOa9/NYE54cifyu8xahXM8Wm21fI4dXXjvOdNbilQhcdebaFL4vJNhMI/3ZTVcKQqeWcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAATCAYAAAB2pebxAAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACqSURBVHgB7ZTBCcMwDEUt1b13kAQ6QjJCR+kkHakZoRBy7wi9l8i1DwXF6JuE5JBDPthYQnrIQjY5oG/fN5b/XNdd7iOUwMxPCyIirQkZhyG4FfJpCyF0RNT8z3MSzfhUzZKKdDyjoNQn3avc1vIIohpLlj2JdRvogOwZAuckH//Sc4AQX1VtyS5C0GiXpCGvuK7oHwF6TyAx+TaKPOLlL7PSiT4n5ns6/gCMkEutEIPmAwAAAABJRU5ErkJggg==\"","import { useState, useEffect, memo } from \"react\";\r\nimport { useParams, useSearchParams } from \"react-router-dom\";\r\nimport securityCamera from \"../../../../assets/images/Security camera.png\"\r\nimport uploadImage from \"../../../../assets/images/Group.png\"\r\nimport DeleteIcond from \"../../../../assets/images/Delete.png\"\r\nimport WhiteDeleteIcond from \"../../../../assets/images/white-delete.png\"\r\n\r\nimport versionFolder from \"../../../../assets/images/VersionFolder.png\"\r\nconst tabs = [\"SKU data\", \"upload\"];\r\nimport { ConfirmationUser } from \"@/components/ui/ConfirmationUser\";\r\nimport BreadCrumb from \"@/components/common/BreadCrumb\";\r\n\r\n\r\nconst ViewSkuDetails = () => {\r\n  const { id, workspaceId, skuId } = useParams();\r\n  console.log('workspace=>', workspaceId)\r\n  console.log('sku=>', skuId)\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const versionID = searchParams.get(\"version\");\r\n  console.log('version=>', versionID); // Will log \"2\" from the example URL\r\n  // const [versionName, setVersionName] = useState<{ id: number; name: string; sku: number }[]>([]);\r\n  // const fetchVersionName = async () => {\r\n  //   try {\r\n  //     const res = await fetch(\r\n  //       `https://ac4ee0054010e6ee7a052c425e401a13.serveo.net/api/versions/${versionID}/`\r\n  //     );\r\n  //     const data = await res.json();\r\n  //     console.log(data?.name)\r\n  //     // // Assuming API returns: [{ name: \"img.png\", url: \"http://...\" }, ...]\r\n  //     // const formatted = data?.results?.map((item: any) => ({\r\n  //     //   id: item.id,\r\n  //     //   name: item.original_filename,\r\n  //     //   url: `${`https://ac4ee0054010e6ee7a052c425e401a13.serveo.net`}${item.image}`,\r\n  //     // }));\r\n  //     // console.log(formatted)\r\n  //     setVersionName(data?.name);\r\n  //   } catch (error) {\r\n  //     console.error(\"Failed to fetch images\", error);\r\n  //   }\r\n  // };\r\n  // // Fetch images from backend\r\n  // useEffect(() => {\r\n\r\n\r\n  //   fetchVersionName();\r\n  // }, [skuId, versionID]);\r\n  const activeTab = searchParams.get(\"tab\") || \"SKU data\";\r\n\r\n  const baseUrl = \"https://fibregridstorage.blr1.digitaloceanspaces.com/Fibregrid_projects/FY_25-26/Agriculture%20Projects/1_AGR_25-26_02_[Ekfrazo]/stage%204/Images/7c3b3c58c1b73fc6daa99715f74647041db4da04.png\";\r\n\r\n  const placeholderImage = \"https://fibregridstorage.blr1.digitaloceanspaces.com/Fibregrid_projects/FY_25-26/Agriculture%20Projects/1_AGR_25-26_02_[Ekfrazo]/stage%204/Images/nexify-placeholder-img.png\";\r\n\r\n\r\n  // const images = Array.from({ length: 20 }, (_, i) => {\r\n  //   const id = i + 1; // simple incremental id starting from 1\r\n  //   const hash = `img_${id.toString().padStart(2, \"0\")}`;\r\n  //   return {\r\n  //     id, // add id here\r\n  //     url: `${baseUrl}`, // your base url or full url per image\r\n  //     name: `${hash}.png`,\r\n  //   };\r\n  // });\r\n\r\n  useEffect(() => {\r\n    // Optional: fetch SKU details by skuId\r\n  }, [skuId]);\r\n\r\n  function ImageGrid({ skuId, version }) {\r\n\r\n    const [images, setImages] = useState<{ id: number; name: string; url: string }[]>([]);\r\n    const [selected, setSelected] = useState<string[]>([]);\r\n    const fetchImages = async () => {\r\n      try {\r\n        const res = await fetch(\r\n          `https://ac4ee0054010e6ee7a052c425e401a13.serveo.net/api/sku-images-list/?sku_id=${skuId}&version_id=${version}`\r\n        );\r\n        const data = await res.json();\r\n\r\n        // Assuming API returns: [{ name: \"img.png\", url: \"http://...\" }, ...]\r\n        const formatted = data?.results?.map((item: any) => ({\r\n          id: item.id,\r\n          name: item.original_filename,\r\n          url: `${`https://ac4ee0054010e6ee7a052c425e401a13.serveo.net`}${item.image}`,\r\n        }));\r\n        console.log(formatted)\r\n        setImages(formatted);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch images\", error);\r\n      }\r\n    };\r\n    // Fetch images from backend\r\n    useEffect(() => {\r\n\r\n\r\n      fetchImages();\r\n    }, [skuId]);\r\n    const toggleSelection = (id: number) => {\r\n      console.log(id)\r\n      setSelected((prev) =>\r\n        prev.includes(id) ? prev.filter((n) => n !== id) : [...prev, id]\r\n      );\r\n    };\r\n\r\n    // const toggleSelection = (name: string) => {\r\n    //   setSelected((prev) =>\r\n    //     prev.includes(name) ? prev.filter((n) => n !== name) : [...prev, name]\r\n    //   );\r\n    // };\r\n\r\n    const copyToClipboard = (name: string) => {\r\n      navigator.clipboard.writeText(name);\r\n      alert(`Copied: ${name}`);\r\n    };\r\n\r\n    const handleSingleDelete = async (id: number) => {\r\n      // if (selected.length === 0) {\r\n      //   alert(\"Please select images to delete.\");\r\n      //   return;\r\n      // }\r\n\r\n      const confirmed = window.confirm(\r\n        `Are you sure you want to delete this image?`\r\n      );\r\n\r\n      if (!confirmed) return;\r\n\r\n      try {\r\n        const res = await fetch(\"https://ac4ee0054010e6ee7a052c425e401a13.serveo.net/api/sku-images/\", {\r\n          method: \"DELETE\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ image_ids: [id] }),\r\n        });\r\n        const data = await res.json();\r\n\r\n        alert(data.message);\r\n\r\n        // if (data.deleted?.length) {\r\n        //   setImages((prev) => prev.filter((img) => !data.deleted.includes(img.id)));\r\n        //   setSelected((prev) => prev.filter((id) => !data.deleted.includes(id)));\r\n        // }\r\n        fetchImages();\r\n      } catch (error) {\r\n        console.error(\"Delete failed\", error);\r\n        alert(\"Failed to delete images\");\r\n      }\r\n    };\r\n\r\n    const handleBulkDelete = async () => {\r\n      if (selected.length === 0) {\r\n        alert(\"Please select images to delete.\");\r\n        return;\r\n      }\r\n\r\n      const confirmed = window.confirm(\r\n        `Are you sure you want to delete ${selected.length} image(s)?`\r\n      );\r\n\r\n      if (!confirmed) return;\r\n\r\n      try {\r\n        const res = await fetch(\"https://ac4ee0054010e6ee7a052c425e401a13.serveo.net/api/sku-images/\", {\r\n          method: \"DELETE\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ image_ids: selected }),\r\n        });\r\n        const data = await res.json();\r\n\r\n        alert(data.message);\r\n\r\n        // if (data.deleted?.length) {\r\n        //   setImages((prev) => prev.filter((img) => !data.deleted.includes(img.id)));\r\n        //   setSelected((prev) => prev.filter((id) => !data.deleted.includes(id)));\r\n        // }\r\n        fetchImages();\r\n      } catch (error) {\r\n        console.error(\"Delete failed\", error);\r\n        alert(\"Failed to delete images\");\r\n      }\r\n    };\r\n\r\n    const PreviewImage = memo(({ id, src, alt }: { id: number, src: string; alt: string }) => {\r\n      return (\r\n        <ConfirmationUser\r\n          title=\"\"\r\n          description={\r\n            <>\r\n              <img\r\n                src={src}\r\n                alt={alt}\r\n                className=\"w-full h-auto max-h-[80vh] object-contain rounded\"\r\n              />\r\n              <h1>{alt}</h1>\r\n            </>\r\n          }\r\n        >\r\n          <button className=\"bg-green-500 text-white text-xs px-3 py-1 rounded shadow\">\r\n            Preview\r\n          </button>\r\n        </ConfirmationUser>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <>\r\n        <div className=\"flex gap-16 justify-end items-end mb-2\">\r\n          {/* <BreadCrumb /> */}\r\n          {/* <div className=\"text-white text-md font-semibold bg-blue-600 rounded-full p-1\">\r\n            Tagged as\r\n          </div> */}\r\n          <button\r\n            onClick={() => {\r\n              const newParams = new URLSearchParams(searchParams);\r\n              newParams.set(\"tab\", 'upload');\r\n              setSearchParams(newParams);\r\n            }}\r\n            className=\"text-white text-md font-semibold bg-blue-600 rounded-full py-1 px-3 min-w-36\"\r\n          >\r\n            upload files\r\n          </button>\r\n\r\n\r\n        </div>\r\n\r\n        <div className=\"flex items-center p-2 justify-between bg-gray-200 rounded-full\">\r\n          <div className=\"px-4 font-semibold\">\r\n            Uploaded files : {images.length}\r\n          </div>\r\n          <button\r\n            onClick={handleBulkDelete}\r\n            className=\"px-3 py-1 bg-red-600 text-white flex  justify-center items-center gap-4 hover:bg-red-700 rounded-full\"\r\n          >Bulk Delete <img src={WhiteDeleteIcond} alt=\"Delete\" className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 p-4\">\r\n          {images.map((img) => (\r\n            <div key={img.name} className=\"border rounded group p-2\">\r\n              <div key={img.id} className=\"relative\">\r\n                <img\r\n                  src={img.url}\r\n                  alt={img.name}\r\n                  className=\"w-full h-28 object-cover rounded mb-2\"\r\n                />\r\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition\">\r\n                  <div className=\"flex flex-col gap-2\">\r\n                    <PreviewImage src={img.url} alt={img.name} />\r\n                    <button\r\n                      onClick={() => handleSingleDelete(img.id)}\r\n                      className=\"bg-red-500 text-white text-xs px-3 py-1 rounded shadow\">\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center justify-between px-2 py-1 text-xs bg-white\">\r\n                {/* <input\r\n                type=\"checkbox\"\r\n                checked={selected.includes(img.name)}\r\n                onChange={() => toggleSelection(img.name)}\r\n              /> */}\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={selected.includes(img.id)}\r\n                  onChange={() => toggleSelection(img.id)}\r\n                />\r\n\r\n                <span\r\n                  onClick={() => copyToClipboard(img.name)}\r\n                  className=\"cursor-pointer text-blue-600 hover:underline truncate w-28\"\r\n                  title={img.name}\r\n                >\r\n                  {img.name}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n\r\n\r\n  const ACCEPTED_FORMATS = [\"image/jpeg\", \"image/jpg\", \"image/png\", \"image/bmp\"];\r\n\r\n  interface UploadedImage {\r\n    file: File;\r\n    preview: string;\r\n    name: string;\r\n  }\r\n\r\n\r\n  interface DuplicateConfirmModalProps {\r\n    isOpen: boolean;\r\n    duplicatesCount: number;\r\n    onConfirm: () => void;\r\n    onCancel: () => void;\r\n  }\r\n\r\n  const DuplicateConfirmModal: React.FC<DuplicateConfirmModalProps> = ({\r\n    isOpen,\r\n    duplicatesCount,\r\n    onConfirm,\r\n    onCancel,\r\n  }) => {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n        <div className=\"bg-white rounded p-6 max-w-lg w-full\">\r\n          <h2 className=\"text-lg font-bold mb-4\">Duplicate Images Detected</h2>\r\n          <p className=\"mb-4\">\r\n            {duplicatesCount} image(s) were skipped due to duplication.\r\n            Would you like to re-upload with overwrite enabled?\r\n          </p>\r\n          <div className=\"flex justify-end gap-4\">\r\n            <button\r\n              onClick={onCancel}\r\n              className=\"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={onConfirm}\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\"\r\n            >\r\n              Confirm\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  const ImageUploader: React.FC = ({ skuId, version, tags }) => {\r\n    const [images, setImages] = useState<UploadedImage[]>([]);\r\n    const [selectedPreview, setSelectedPreview] = useState<string>(placeholderImage);\r\n\r\n    const versionName = version;\r\n    const API_URL = \"https://ac4ee0054010e6ee7a052c425e401a13.serveo.net/api/sku-images/\";\r\n\r\n    const handleFiles = (files: FileList | null) => {\r\n      if (!files) return;\r\n\r\n      const validImages: UploadedImage[] = Array.from(files)\r\n        .filter((file) => ACCEPTED_FORMATS.includes(file.type))\r\n        .map((file) => ({\r\n          file,\r\n          name: file.name,\r\n          preview: URL.createObjectURL(file),\r\n        }));\r\n\r\n      setImages((prev) => [...prev, ...validImages]);\r\n    };\r\n\r\n    const handleDelete = (index: number) => {\r\n      setImages((prev) => prev.filter((_, i) => i !== index));\r\n    };\r\n\r\n    const handleNameChange = (index: number, newName: string) => {\r\n      setImages((prev) =>\r\n        prev.map((img, i) => (i === index ? { ...img, name: newName } : img))\r\n      );\r\n    };\r\n\r\n    const handleSubmit = async (allowDuplicates = false, overwrite = false) => {\r\n      if (images.length === 0) {\r\n        alert(\"No images to upload\");\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n\r\n      // Append images\r\n      images.forEach(({ file }) => {\r\n        formData.append(\"images\", file);\r\n      });\r\n\r\n      // Append other fields\r\n      formData.append(\"sku_id\", skuId);\r\n      formData.append(\"tags\", tags);\r\n      formData.append(\"version_name\", versionName);\r\n      formData.append(\"version_id\", versionName);\r\n      formData.append(\"allow_duplicates\", allowDuplicates.toString());\r\n      formData.append(\"overwrite\", overwrite.toString());\r\n\r\n      try {\r\n        const res = await fetch(\"https://ac4ee0054010e6ee7a052c425e401a13.serveo.net/api/sku-images/\", {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n\r\n        const result = await res.json();\r\n\r\n        if (!res.ok) {\r\n          throw new Error(`Server responded with ${res.status}`);\r\n        }\r\n\r\n        if (result.skipped?.length > 0 && result.skipped.some(item => item.reason.includes(\"Duplicate\"))) {\r\n          const confirmReupload = window.confirm(\r\n            `${result.skipped.length} image(s) were skipped due to duplication.\\nWould you like to re-upload with overwrite?`\r\n          );\r\n\r\n          if (confirmReupload) {\r\n            // Retry with overwrite enabled\r\n            await handleSubmit(true, true);\r\n          } else {\r\n            alert(\"Upload skipped for duplicate images.\");\r\n          }\r\n        } else {\r\n          alert(\"Upload successful!\");\r\n\r\n          const newParams = new URLSearchParams(searchParams);\r\n          newParams.set(\"tab\", 'SKU data');\r\n          setSearchParams(newParams);\r\n\r\n        }\r\n\r\n        console.log(\"✅ Upload Result:\", result);\r\n      } catch (error) {\r\n        console.error(\"❌ Upload failed:\", error);\r\n        alert(\"Upload failed. Check console for details.\");\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"p-4\">\r\n        {/* <button\r\n          onClick={() => {\r\n            const newParams = new URLSearchParams(searchParams);\r\n            newParams.set(\"tab\", \"SKU data\");\r\n            setSearchParams(newParams);\r\n          }}\r\n          className=\"text-white text-lg font-semibold bg-blue-600 rounded-full p-2\"\r\n        >\r\n          sku data\r\n        </button> */}\r\n        {/* Header */}\r\n        <div className=\"flex justify-between mb-4\">\r\n          <h2 className=\"text-xl font-bold\">Upload SKU Data</h2>\r\n          <button\r\n            onClick={handleSubmit}\r\n            className=\"bg-primary rounded-full text-white px-6 py-2\"\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n\r\n        {/* Upload Options */}\r\n        <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n          {/* Camera Loader */}\r\n          <div className=\"border-2 rounded-md border-dashed border-green-400 p-6 flex flex-col items-center justify-center\">\r\n            <img src={securityCamera} alt=\"Camera Icon\" className=\"w-16 h-16 mb-2\" />\r\n            <button className=\"bg-green-200 px-4 py-2 rounded\">\r\n              Load from Indus Vision camera\r\n            </button>\r\n          </div>\r\n\r\n          {/* File Uploader */}\r\n          <div className=\"border-2 border-dashed rounded-md border-blue-400 p-6 text-center flex items-center justify-center\">\r\n            <input\r\n              type=\"file\"\r\n              accept=\".jpg,.jpeg,.png,.bmp\"\r\n              multiple\r\n              className=\"hidden\"\r\n              id=\"fileInput\"\r\n              onChange={(e) => handleFiles(e.target.files)}\r\n            />\r\n            <label htmlFor=\"fileInput\" className=\"cursor-pointer flex flex-col justify-center items-center\">\r\n              <img src={uploadImage} alt=\"Upload Icon\" className=\"mb-4 w-24 h-24\" />\r\n              <div className=\"text-white text-lg font-semibold bg-blue-600 rounded-full p-2\">\r\n                Click to upload files from device\r\n              </div>\r\n              <div className=\"text-md text-gray-500 mt-1\">or drag and drop files here</div>\r\n              <div className=\"text-md mt-1\">\r\n                <span className=\"text-red-400\">*</span> Files supported: .jpeg .jpg .png .bmp\r\n              </div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Uploaded Images and Preview */}\r\n        <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n          {/* Uploaded List */}\r\n          <div className=\"mt-4\">\r\n            <h3 className=\"font-semibold mb-2\">Uploaded Files</h3>\r\n            {images.length === 0 ? (\r\n              <div className=\"text-gray-500 flex justify-center items-center text-lg border p-4 rounded h-64\">\r\n                No files have been uploaded.\r\n              </div>\r\n            ) : (\r\n              <div className=\"grid gap-4 max-h-96 overflow-y-auto\">\r\n                {images.map((img, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className=\"px-4 py-2 border rounded shadow-sm flex justify-between items-center bg-gray-100\"\r\n                  >\r\n                    <img\r\n                      src={img.preview}\r\n                      alt={`preview-${index}`}\r\n                      className=\"w-16 h-16 object-cover rounded cursor-pointer\"\r\n                      onClick={() => setSelectedPreview(img.preview)}\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      value={img.name}\r\n                      onChange={(e) => handleNameChange(index, e.target.value)}\r\n                      className=\"w-64 border px-2 py-1 text-sm rounded\"\r\n                    />\r\n                    <button onClick={() => handleDelete(index)} title=\"Delete\" className=\"ml-2\">\r\n                      <img src={DeleteIcond} alt=\"Delete\" />\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Preview */}\r\n          <div className=\"mt-6 flex\">\r\n            <img\r\n              src={selectedPreview}\r\n              alt=\"Selected Preview\"\r\n              className=\"w-full h-96 object-cover rounded\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"p-4\">\r\n      {/* <h2 className=\"text-xl font-bold mb-4\">SKU #{skuId}</h2> */}\r\n      {/* \r\n      <div className=\"flex gap-4 mb-6\">\r\n        {tabs.map((tab) => (\r\n          <button\r\n            key={tab}\r\n            onClick={() => {\r\n              const newParams = new URLSearchParams(searchParams);\r\n              newParams.set(\"tab\", tab);\r\n              setSearchParams(newParams);\r\n            }}\r\n            className={`px-4 py-2 rounded ${activeTab === tab ? \"bg-blue-500 text-white\" : \"bg-gray-100\"\r\n              }`}\r\n          >\r\n            {tab.charAt(0).toUpperCase() + tab.slice(1)}\r\n          </button>\r\n        ))}\r\n      </div> */}\r\n\r\n      <div>\r\n        {activeTab === \"SKU data\" && <div><ImageGrid skuId={skuId} version={versionID} /></div>}\r\n        {activeTab === \"upload\" && <div><ImageUploader skuId={skuId} version={versionID} tags=\"AnamolyDetection\" /></div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewSkuDetails;\r\n"],"names":["securityCamera","uploadImage","DeleteIcond","WhiteDeleteIcond","ViewSkuDetails","id","workspaceId","skuId","useParams","searchParams","setSearchParams","useSearchParams","versionID","activeTab","placeholderImage","useEffect","ImageGrid","version","images","setImages","useState","selected","setSelected","fetchImages","data","formatted","_a","item","error","toggleSelection","prev","n","copyToClipboard","name","handleSingleDelete","handleBulkDelete","PreviewImage","memo","src","alt","jsx","ConfirmationUser","jsxs","Fragment","newParams","img","ACCEPTED_FORMATS","ImageUploader","tags","selectedPreview","setSelectedPreview","versionName","handleFiles","files","validImages","file","handleDelete","index","_","i","handleNameChange","newName","handleSubmit","allowDuplicates","overwrite","formData","res","result","e"],"mappings":"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"}