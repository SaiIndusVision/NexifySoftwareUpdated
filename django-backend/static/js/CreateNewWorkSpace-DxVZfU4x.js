import{j as e}from"./mui-Bss3QQll.js";import{r as l,f as N}from"./react-core-spor8t4e.js";import{j as S,t as C,k as E,F,b as T,c as W,d as I,I as B,e as P,u as h}from"./index-CNItTNil.js";import{d as R}from"./form-tools-C_3viVMX.js";import{u as z}from"./state-management-7spMuoR3.js";import"./ui-utils-D3kZWK2d.js";import"./radix-B4zV8Utj.js";import"./data-utils-CsUIpaiA.js";const A="/assets/png/rafiki-Cqm-Y6hK.png",K=()=>{const{setTitle:f}=S();l.useEffect(()=>{},[f]);const g=N(),[x,m]=l.useState(!1),[L,p]=l.useState(null),[j,y]=l.useState("Workspace name"),b=l.useMemo(()=>s=>s.auth,[]),n=z(b),i=R({resolver:C(E),mode:"onSubmit",defaultValues:{name:"",created_by:(n==null?void 0:n.user_id)??void 0}}),v=async s=>{m(!0),p(null);const r="http://localhost:8001/api/workspace/",t="https://ac4ee0054010e6ee7a052c425e401a13.serveo.net/api/workspace/";try{const o=async c=>{const d=await fetch(c,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)});if(!d.ok){const u=await d.json();console.error(`Error from ${c}:`,u);const k=u.message||`Failed to create workspace at ${c}`;throw new Error(k)}return d.json()},[a,_]=await Promise.all([o(r),o(t)]);h.success((a==null?void 0:a.message)||"Workspace created successfully"),g("/client/workspaces"),setTimeout(()=>{window.location.reload()},1e3)}catch(o){console.error("Workspace creation failed:",o);const a=o.message||"Error creating workspace. Please try again.";p(a),h.error(a)}finally{m(!1)}},w=({mainText:s})=>e.jsxs("div",{style:{display:"flex",width:"100%"},children:[e.jsxs("div",{style:{background:"linear-gradient(219.95deg, #435FCD -2.18%, #062393 61.84%, #020B2D 132.87%)",padding:"20px",color:"white",height:"100%",width:"400px",borderTopLeftRadius:"10px"},children:[e.jsxs("h1",{style:{fontSize:"24px"},children:[e.jsx("span",{style:{color:"white"},children:"NEX"}),e.jsx("span",{style:{color:"#22C55E"},children:"IFY"})]}),e.jsx("h2",{style:{fontSize:"18px"},children:s}),e.jsx("div",{style:{marginTop:"20px"},children:[...Array(3)].map((r,t)=>e.jsx("div",{style:{backgroundColor:"#3B82F6",margin:"10px 0",padding:"10px",borderRadius:"5px"}},t))})]}),e.jsx("div",{style:{backgroundColor:"#F3F4F6",width:"100%"},children:e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("div",{style:{backgroundColor:"#E5E7EB",height:"40px",width:"60%",margin:"0 20px auto",borderRadius:"5px"}}),[...Array(3)].map((r,t)=>e.jsx("div",{style:{backgroundColor:"#E5E7EB",height:"60px",width:"90%",margin:"10px auto",borderRadius:"5px"}},t))]})})]});return e.jsxs("div",{className:"flex flex-col py-4",children:[e.jsx("div",{className:" mx-auto mb-8",children:e.jsx("div",{className:" bg-opacity-25 flex justify-center items-center relative z-10",children:e.jsx("div",{className:"p-8 w-full min-w-[calc(90vw)] rounded-2xl border-2 border-gray-200 flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:"Welcome! Lets get started"}),e.jsxs("p",{className:"text-gray-400",children:["Create your first ",e.jsx("span",{className:"text-gray-500 font-semibold",children:"workspace"})]})]})})})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"basis-full lg:basis-1/2 flex flex-col gap-8",children:[e.jsx("div",{className:"flex flex-col  gap-8",children:e.jsx("div",{className:"bg-opacity-25 relative z-10",children:e.jsx("div",{className:"p-8 w-full rounded-2xl border-2 border-gray-200 flex justify-between items-center",children:e.jsx(F,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(v),className:"space-y-2 w-full",children:[e.jsx(T,{control:i.control,name:"name",render:({field:s})=>e.jsxs(W,{children:[e.jsx(I,{children:e.jsx(B,{...s,onChange:r=>{s.onChange(r),y(r.target.value||"Workspace name")},hasError:!!i.formState.errors.name,placeholder:"Workspace Name*",className:"rounded-full"})}),e.jsx(P,{})]})}),e.jsx("button",{type:"submit",disabled:x,className:"bg-primary hover:bg-green-600 text-white py-2 px-4 rounded-full flex items-center gap-2",children:x?"Creating...":"Create Workspace"})]})})})})}),e.jsx("div",{className:"flex items-start justify-center rounded-lg",children:e.jsx("div",{className:"text-center",children:e.jsx("img",{src:A,alt:"Workspace illustration",className:"max-w-full h-auto mx-auto"})})})]}),e.jsx("div",{className:"basis-full lg:basis-1/2 flex w-full rounded-lg",children:e.jsx(w,{mainText:j})})]})]})};export{K as default};
//# sourceMappingURL=CreateNewWorkSpace-DxVZfU4x.js.map
