import{j as e}from"./mui-BFA6lQrI.js";import{A as d}from"./AuthLayout-itFYPbID.js";import{b as c,s as u,d as x}from"./form-tools-DBwiXJwN.js";import{a as f,u as i,F as p,b as h,c as g,d as j,I as F,e as y,B as b,L,t as N}from"./index-C_wsCyeP.js";import{f as S,L as v}from"./react-core-CQlor4TK.js";import{u as w}from"./data-utils-7BzZlo9U.js";import"./state-management-hQ1z8sur.js";import"./ui-utils-DmSiVVjI.js";import"./radix-BHg8RD76.js";const E=()=>{S();const{mutate:n,isPending:o,error:a}=w({mutationFn:f.forgotPassword,onSuccess:()=>{i.success("Password reset email sent successfully")},onError:s=>{var t,r,m,l;console.log(s),((r=(t=s==null?void 0:s.response)==null?void 0:t.data)==null?void 0:r.message)=="User not found"?i.error(((l=(m=s==null?void 0:s.response)==null?void 0:m.data)==null?void 0:l.message)||"User not found",{position:"top-center",duration:4e3}):i.error(s.message||"Sending email failed",{position:"top-center",duration:4e3})}});return{mutate:n,isLoading:o,error:a}},P=c({email:u().min(1,"Email is required").email("Please enter a valid email")}),k=()=>{const{mutate:n,isLoading:o}=E(),a=x({resolver:N(P),defaultValues:{email:""}}),s=t=>{n(t.email)};return e.jsxs(p,{...a,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-2xl font-secondary font-bold text-[#062393]",children:"Forgot Password!"}),e.jsx("div",{className:"text-sm font-secondary  font-normal ",children:"Reset password through email"})]}),e.jsxs("form",{onSubmit:a.handleSubmit(s),className:"space-y-6",children:[e.jsx(h,{control:a.control,name:"email",render:({field:t})=>e.jsxs(g,{children:[e.jsx(j,{children:e.jsx(F,{...t,type:"email",placeholder:"Email Address*",autoComplete:"off",hasError:!!a.formState.errors.email,className:"rounded-full"})}),e.jsx(y,{})]})}),e.jsx(b,{type:"submit",disabled:o,className:"w-full  rounded-full bg-[#43996A]",children:o?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):"Send Reset Link"}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(v,{to:"/login",className:"text-sm font-normal font-secondary text-[#062393] hover:text-primary transition-colors",children:"Clicked by mistake ? Login here"})})})]})]})},V=()=>e.jsx(d,{title:"Send Reset Email",children:e.jsx(k,{})});export{V as default};
