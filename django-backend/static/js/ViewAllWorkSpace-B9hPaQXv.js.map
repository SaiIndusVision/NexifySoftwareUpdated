{"version":3,"file":"ViewAllWorkSpace-B9hPaQXv.js","sources":["../../../src/assets/images/design-stats.png","../../../src/features/client/pages/workspace/ViewAllWorkSpace.tsx"],"sourcesContent":["export default \"__VITE_ASSET__CuudDNgt__\"","import { useMemo, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport rafiki from \"../../../../assets/images/rafiki.png\"\r\nimport designstats from \"../../../../assets/images/design-stats.png\"\r\nimport { ChevronDown, Plus } from 'lucide-react';\r\nimport { useGetUserApi } from \"@/features/co-admin/hooks/useGetUser\";\r\nimport { usePageTitle } from \"@/hooks/usePageTitle\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"@/store\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { initialWorkSpaceData } from './mockData'\r\nconst ViewAllWorkSpace = () => {\r\n    const { setTitle } = usePageTitle();\r\n\r\n    const navigate = useNavigate();\r\n    useEffect(() => {\r\n        // setTitle(\"View All Workspace\");\r\n    }, [setTitle]);\r\n    const selectUser = useMemo(\r\n        () => (state: RootState) => state.auth,\r\n        []\r\n    );\r\n    const user = useSelector(selectUser);\r\n    const params = useMemo(() => ({ created_by: user?.user_id }), [user?.user_id]);\r\n\r\n    // const { data: usersData = [], loading, error } = useGetUserApi(\"NUSERS.WORKSPACE.LIST\", params);\r\n\r\n    // const [workspaceData, setWorkspaceData] = useState<Record<string, any[]>>({});\r\n    // useEffect(() => {\r\n    //     if (usersData?.results && user?.user_id) {\r\n    //         setWorkspaceData({\r\n    //             [user.user_id]: usersData.results,\r\n    //         });\r\n    //     }\r\n    // }, [usersData, user?.user_id]);\r\n\r\n    //     const currentUserWorkspaces = workspaceData[user?.user_id] || [];\r\n\r\n    console.log(initialWorkSpaceData?.results)\r\n    // const [workspaceData, setWorkspaceData] = useState<any[]>(initialWorkSpaceData?.results || []);\r\n    const [workspaceData, setWorkspaceData] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const fetchWorkspace = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await axios.get(\r\n                'https://ac4ee0054010e6ee7a052c425e401a13.serveo.net/api/workspace/',\r\n                {\r\n                    headers: {\r\n                        Accept: 'application/json',\r\n                    },\r\n                }\r\n            );\r\n\r\n            if (response.data?.results) {\r\n                setWorkspaceData(response.data.results);\r\n            } else {\r\n                setWorkspaceData([]); // fallback if no results key\r\n            }\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Unknown error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchWorkspace();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        console.log('Workspace data updated:', workspaceData);\r\n    }, [workspaceData]);\r\n\r\n    const handleNavigate = (path: string, rowData: string) => {\r\n        navigate(path, { state: { selectedRow: rowData } });\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col py-4\">\r\n\r\n            <div className=\" mx-auto mb-8\">\r\n                {/* Header */}\r\n                <div className=\" bg-opacity-25 flex justify-center items-center relative z-10\">\r\n                    <div className=\"p-8 w-full min-w-[calc(90vw)] rounded-2xl border-2 border-gray-200 flex justify-between items-center\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold text-blue-900\">Welcome! Lets get started</h1>\r\n                            <p className=\"text-gray-400\">Create your first <span className=\"text-gray-500 font-semibold\">workspace</span></p>\r\n                        </div>\r\n                        <div>\r\n                            <button\r\n\r\n                                onClick={() => navigate(\"/client/workspaces/create\")}\r\n                                className=\"bg-primary hover:bg-green-600 text-white py-2 px-4 rounded-full flex items-center gap-2\">\r\n                                Create a workspace\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col lg:flex-row gap-8\">\r\n                {/* Left Column - Workspaces (Max 2) */}\r\n\r\n                {/* <div className=\"basis-full lg:basis-2/3 flex flex-wrap -mx-2\"> */}\r\n                {/* {currentUserWorkspaces.map(workspace => ( */}\r\n                <div className=\"flex flex-wrap -mx-2\">\r\n                    {workspaceData.map(workspace => (\r\n                        <div key={workspace.id} className=\"w-full md:w-1/2 p-2\">\r\n                            <div\r\n                                onClick={() => navigate(`/client/workspaces/${workspace?.id}`)}\r\n                                className={`${workspace?.is_activated ? 'bg-[#EFF2FF]' : 'bg-[#FFEEE0]'} rounded-lg shadow-sm border border-gray-100 h-auto`}>\r\n                                <div className=\"flex gap-4 p-4\">\r\n                                    <div\r\n                                        className={`${workspace?.is_activated ? 'bg-[#CED7FD] ' : 'bg-[#FFCA9F]'\r\n                                            } rounded-md w-24 h-24 flex items-center justify-center`}\r\n\r\n                                    >\r\n                                        <span className={`${workspace?.is_activated ? 'text-[#798CDC] ' : 'text-[#E66A05]'} text-4xl font-semibold`}\r\n                                        >W</span>\r\n                                    </div>\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"flex justify-end items-end\">\r\n                                            <button className=\"text-blue-400 \">\r\n                                                {/* {JSON.stringify(workspace?.is_activated, null, 2)} */}\r\n                                                {workspace?.is_activated ? <>\r\n                                                    <ChevronDown\r\n\r\n                                                        size={20} />\r\n                                                </> : <>\r\n                                                    <span className=\"bg-[#E66A05] text-white px-2 py-1 rounded-full text-sm\">\r\n                                                        Activation pending\r\n                                                    </span>\r\n                                                </>}\r\n                                            </button>\r\n                                        </div>\r\n                                        <h3 className=\"font-medium text-gray-800\">{workspace.name}</h3>\r\n                                        <div className=\"mt-1 space-y-1\">\r\n                                            <p className=\"text-sm text-gray-600\">\r\n                                                Creation date:{' '}\r\n                                                <span className=\"bg-blue-600 text-white p-1 rounded-full text-sm\">\r\n                                                    {workspace?.created_at.split('T')[0]}\r\n                                                </span>\r\n                                            </p>\r\n                                            <p className=\"text-sm text-gray-600 mt-1\">Total SKU: {workspace?.sku_count}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Right Column - Image */}\r\n                <div className=\"flex items-start justify-center rounded-lg\">\r\n                    <div className=\"text-center\">\r\n                        <img\r\n                            src={designstats}\r\n                            alt=\"Workspace illustration\"\r\n                            className=\"max-w-full h-auto mx-auto\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ViewAllWorkSpace;\r\n"],"names":["designstats","ViewAllWorkSpace","setTitle","usePageTitle","navigate","useNavigate","useEffect","selectUser","useMemo","state","user","useSelector","_a","initialWorkSpaceData","workspaceData","setWorkspaceData","useState","loading","setLoading","error","setError","fetchWorkspace","response","axios","err","jsxs","jsx","workspace","Fragment","ChevronDown"],"mappings":"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"}