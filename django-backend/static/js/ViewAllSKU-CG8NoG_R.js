import{j as e}from"./mui-BFA6lQrI.js";import{r as a,h as p,f}from"./react-core-CQlor4TK.js";import{m as j,n as y,u as i}from"./index-Dekx5HmU.js";import{a as N}from"./data-utils-7BzZlo9U.js";import{p as S}from"./nexify-placeholder-img-DvrgdLBk.js";import"./state-management-hQ1z8sur.js";import"./ui-utils-DmSiVVjI.js";import"./radix-BHg8RD76.js";import"./form-tools-D5DSvKKH.js";const A=()=>{const d="http://localhost:8000/api",[c,m]=a.useState(null),{workspaceId:l}=p(),x=f(),[r,g]=a.useState([]),n=async()=>{try{const s=await N.get(`${d}/sku/?workspace_id=${l}`);g(s.data.results)}catch(s){console.error("Error fetching SKUs:",s)}};a.useEffect(()=>{n()},[l]);const u=s=>{m(c===s?null:s)},h=a.memo(()=>{const[s,t]=a.useState(!1),o=async()=>{t(!0);try{i.success("SKU created successfully"),n()}catch{i.error("Failed to create SKU")}finally{t(!1)}};return e.jsx(j,{title:"",description:e.jsx(y,{}),onConfirm:o,isLoading:s,children:e.jsxs("p",{className:`text-md text-center ${r.length<5?"text-green-600":"text-gray-500"}`,children:[r.length<5?"Click to add more SKUs":"Contact Indus Vision to add more SKUs",e.jsx("br",{}),r.length,"/5 left to create"]})})});return e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:[r.map((s,t)=>e.jsx("div",{className:"w-full",children:e.jsxs("div",{onClick:()=>x(`/client/workspaces/${l}/sku/${s.id}?tab=Versions`),className:"relative bg-gray-200 p-4 rounded-lg shadow-sm flex h-38 gap-4 cursor-pointer mb-2",children:[e.jsx("div",{className:"w-48 h-full rounded-2xl",children:e.jsx("img",{src:S,alt:"SKU Image",className:"w-full h-full rounded-2xl"})}),e.jsxs("div",{className:"w-[90%]",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.tag_name})]}),e.jsxs("div",{className:"absolute top-2 right-2",children:[e.jsx("button",{onClick:o=>{o.stopPropagation(),u(t)},className:"text-gray-500",children:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"5",r:"1.5",fill:"currentColor"}),e.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:"currentColor"}),e.jsx("circle",{cx:"12",cy:"19",r:"1.5",fill:"currentColor"})]})}),c===t&&e.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-lg shadow-sm z-10",children:e.jsxs("ul",{className:"py-1",children:[e.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:"Rename"}),e.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:"Merge"}),e.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:"Delete"})]})})]})]})},s.id)),e.jsx("div",{className:`p-4 rounded-lg flex flex-col items-center justify-center border-dotted border-2 ${r.length<5?"border-green-500 cursor-pointer":"border-gray-300"}`,children:r.length<5?e.jsx(h,{}):e.jsx("p",{className:`text-md text-center ${r.length<5?"text-green-600":"text-gray-500"}`,children:r.length<5?"Click to add more SKUs":"Contact Indus Vision to add more SKUs"})})]})})};export{A as default};
