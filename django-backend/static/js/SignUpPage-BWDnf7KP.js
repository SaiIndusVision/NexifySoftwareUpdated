import{j as e}from"./mui-BFA6lQrI.js";import{A as S}from"./AuthLayout-itFYPbID.js";import{f as _,b as f,L as P}from"./react-core-CQlor4TK.js";import{b as y,s as o,c as N,n as v,d as E}from"./form-tools-D5DSvKKH.js";import{a as F,u as j,F as C,b as t,c as n,d as l,I as c,e as i,P as L,B as U,L as A,t as q}from"./index-DRlwla87.js";import{u as k}from"./data-utils-7BzZlo9U.js";import{i as I}from"./state-management-hQ1z8sur.js";import{E as w,a as g}from"./eye-DF-FSPIn.js";import"./ui-utils-DmSiVVjI.js";import"./radix-DpbSIyq2.js";const T=()=>{I();const a=_(),{mutate:u,isPending:m,error:p}=k({mutationFn:F.SignUpUser,onSuccess:d=>{j.success("SignUp successful, Please check your email for secret key and login !"),a("/login")},onError:d=>{console.log(d),j.error(d.message||"SignUp failed")}});return{mutate:u,isLoading:m,error:p}},Z=y({first_name:o().min(1,"First name is required"),last_name:o().min(1,"Last name is required"),email:o().min(1,"Email is required").email("Please enter a valid email"),phone_number:o().min(6,"Phone number is required"),password:o().nonempty("Password is required").min(8,"Password must be  8+ characters with uppercase, number, and special character").regex(/[A-Z]/,"Password must include at least one uppercase letter").regex(/[0-9]/,"Password must include at least one number").regex(/[^A-Za-z0-9]/,"Password must include at least one special character"),confirm_password:o().nonempty("Password is required").min(8,"Password must be  8+ characters with uppercase, number, and special character").regex(/[A-Z]/,"Password must include at least one uppercase letter").regex(/[0-9]/,"Password must include at least one number").regex(/[^A-Za-z0-9]/,"Password must include at least one special character"),mac_address:o().nullable(),role_id:v(),is_active:N(),started_on:o()}).refine(a=>a.password===a.confirm_password,{message:"Passwords do not match",path:["confirm_password"]}),z=()=>{const[a,u]=f.useState(!1),[m,p]=f.useState(!1),{mutate:d,isLoading:h}=T(),r=E({resolver:q(Z),mode:"onSubmit",defaultValues:{first_name:"",last_name:"",email:"",phone_number:"",password:"",confirm_password:"",mac_address:null,role_id:1,is_active:!0,started_on:new Date().toISOString().slice(0,10)}}),b=s=>{const{confirm_password:B,...x}=s;console.log("Submitted data (without confirm_password):",x),d(x)};return e.jsxs(C,{...r,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-2xl font-secondary font-bold text-[#062393]",children:"Hello!"}),e.jsx("div",{className:"text-sm font-secondary  font-normal ",children:"Sign Up to Get Started"})]}),e.jsxs("form",{onSubmit:r.handleSubmit(b),className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx(t,{control:r.control,name:"first_name",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:e.jsx(c,{...s,hasError:!!r.formState.errors.first_name,className:"rounded-full",placeholder:"First Name*"})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"last_name",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:e.jsx(c,{...s,hasError:!!r.formState.errors.last_name,className:"rounded-full",placeholder:"Last Name*"})}),e.jsx(i,{})]})})]}),e.jsx(t,{control:r.control,name:"email",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:e.jsx(c,{...s,type:"email",placeholder:"Email Address*",autoComplete:"off",hasError:!!r.formState.errors.email,className:"rounded-full"})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"phone_number",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:e.jsx(L,{value:s.value||"",onChange:s.onChange,hasError:!!r.formState.errors.phone_number})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"password",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:e.jsxs("div",{className:"relative",children:[e.jsx(c,{...s,type:a?"text":"password",placeholder:"Password*",autoComplete:"off",hasError:!!r.formState.errors.password,className:"rounded-full"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-accent-foreground",onClick:()=>u(!a),children:a?e.jsx(w,{className:"h-5 w-5 text-muted-foreground"}):e.jsx(g,{className:"h-5 w-5 text-muted-foreground"})})]})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"confirm_password",rules:{required:"Please confirm your password",validate:s=>s===r.getValues("password")||"Passwords do not match"},render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:e.jsxs("div",{className:"relative",children:[e.jsx(c,{...s,type:m?"text":"password",placeholder:"Confirm Password*",autoComplete:"off",hasError:!!r.formState.errors.confirm_password,className:"rounded-full"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-accent-foreground",onClick:()=>p(!m),children:m?e.jsx(w,{className:"h-5 w-5 text-muted-foreground"}):e.jsx(g,{className:"h-5 w-5 text-muted-foreground"})})]})}),e.jsx(i,{})]})}),e.jsx(U,{type:"submit",disabled:h,className:"w-full rounded-full",children:h?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):"Sign Up"}),e.jsx("div",{className:"text-center",children:e.jsx(P,{to:"/login",className:"text-sm font-normal font-secondary text-[#062393] hover:text-primary transition-colors",children:"Already registered? Login here"})})]})]})},W=()=>e.jsx(S,{title:"Sign Up",children:e.jsx(z,{})});export{W as default};
