import{j as e}from"./mui-B_PChry4.js";import{r as i,f as k}from"./react-core-CQlor4TK.js";import{l as N,j as C,t as F,m as S,F as E,b as W,c as T,d as B,I,e as R,u as d}from"./index-Bv_2KTqU.js";import{d as z}from"./form-tools-DBwiXJwN.js";import{u as A}from"./state-management-BfQTD3Fv.js";import{a as g}from"./data-utils-DaMdQHZx.js";import"./ui-utils-DC4QuFVe.js";import"./radix-B0DvzVia.js";const L="/assets/png/rafiki-Cqm-Y6hK.png",_=({handleNavigate:l})=>e.jsx("span",{onClick:l,className:"bg-white  w-10 h-10 rounded-full flex justify-center items-center cursor-pointer my-2 ",children:e.jsx(N,{color:"#1e3b8a",strokeWidth:2.4})}),X=()=>{const{setTitle:l}=C();i.useEffect(()=>{},[l]);const x=k(),[m,p]=i.useState(!1),[j,b]=i.useState("Workspace name"),y=i.useMemo(()=>s=>s.auth,[]),n=A(y),o=z({resolver:F(S),mode:"onSubmit",defaultValues:{name:"",created_by:(n==null?void 0:n.user_id)??void 0}}),v=async s=>{var u,h,f;p(!0);const a="http://localhost:8001/api/workspace/",t="http://localhost:8000/api/workspace/";try{const[r,c]=await Promise.all([g.post(a,s),g.post(t,s)]);d.success(((u=r==null?void 0:r.data)==null?void 0:u.message)||"Workspace created successfully!",{position:"top-center",duration:4e3}),x("/client/workspaces")}catch(r){const c=((f=(h=r==null?void 0:r.response)==null?void 0:h.data)==null?void 0:f.message)||"Error creating workspace";c==="Workspace name must be unique"?d.error("A workspace with this name already exists. Please choose a different name.",{position:"top-center",duration:4e3}):d.error(c,{position:"top-center",duration:4e3}),console.error("Workspace creation error:",r)}finally{p(!1)}},w=({mainText:s})=>e.jsxs("div",{style:{display:"flex",width:"100%"},children:[e.jsxs("div",{style:{background:"linear-gradient(219.95deg, #435FCD -2.18%, #062393 61.84%, #020B2D 132.87%)",padding:"20px",color:"white",height:"100%",width:"400px",borderTopLeftRadius:"10px"},children:[e.jsxs("h1",{style:{fontSize:"24px"},children:[e.jsx("span",{style:{color:"white"},children:"NEX"}),e.jsx("span",{style:{color:"#22C55E"},children:"IFY"})]}),e.jsx("h2",{style:{fontSize:"18px"},children:s}),e.jsx("div",{style:{marginTop:"20px"},children:[...Array(3)].map((a,t)=>e.jsx("div",{style:{backgroundColor:"#3B82F6",margin:"10px 0",padding:"10px",borderRadius:"5px"}},t))})]}),e.jsx("div",{style:{backgroundColor:"#F3F4F6",width:"100%"},children:e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("div",{style:{backgroundColor:"#E5E7EB",height:"40px",width:"60%",margin:"0 20px auto",borderRadius:"5px"}}),[...Array(3)].map((a,t)=>e.jsx("div",{style:{backgroundColor:"#E5E7EB",height:"60px",width:"90%",margin:"10px auto",borderRadius:"5px"}},t))]})})]});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col py-4",children:[e.jsx("div",{className:" mx-auto mb-8",children:e.jsx("div",{className:" bg-opacity-25 flex justify-center items-center relative z-10",children:e.jsx("div",{className:"p-8 w-full min-w-[calc(90vw)] rounded-2xl border-2 border-gray-200 flex justify-between items-center",children:e.jsxs("div",{className:"flex  gap-2",children:[e.jsx(_,{handleNavigate:()=>x("/client/workspaces")}),e.jsxs("span",{className:"text-2xl font-bold text-blue-900 flex items-center",children:[" ","Create your workspace"]})]})})})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"basis-full lg:basis-1/2 flex flex-col gap-8",children:[e.jsx("div",{className:"flex flex-col  gap-8",children:e.jsx("div",{className:"bg-opacity-25 relative z-10",children:e.jsx("div",{className:"p-8 w-full rounded-2xl border-2 border-gray-200 flex justify-between items-center",children:e.jsx(E,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(v),className:"space-y-2 w-full",children:[e.jsx(W,{control:o.control,name:"name",render:({field:s})=>e.jsxs(T,{children:[e.jsx(B,{children:e.jsx(I,{...s,onChange:a=>{s.onChange(a),b(a.target.value||"Workspace name")},hasError:!!o.formState.errors.name,placeholder:"Workspace Name*",className:"rounded-full"})}),e.jsx(R,{})]})}),e.jsx("button",{type:"submit",disabled:m,className:"bg-primary hover:bg-green-600 text-white py-2 px-4 rounded-full flex items-center gap-2",children:m?"Creating...":"Create Workspace"})]})})})})}),e.jsx("div",{className:"flex items-start justify-center rounded-lg",children:e.jsx("div",{className:"text-center",children:e.jsx("img",{src:L,alt:"Workspace illustration",className:"max-w-full h-auto mx-auto"})})})]}),e.jsx("div",{className:"basis-full lg:basis-1/2 flex w-full rounded-lg",children:e.jsx(w,{mainText:j})})]})]})})};export{X as default};
